<!doctype html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Inicio Cliente - AgroFresh</title>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
    </head>
    <body style="background-color: #f7f8ee; min-height: 100vh">
        <header>
            <nav
                class="navbar shadow-sm"
                role="navigation"
                aria-label="main navigation"
                style="background-color: #f7f8ee"
            >
                <div class="container">
                    <div class="navbar-brand">
                        <a class="navbar-item" href="/">
                            <img
                                src="/assets/img/logo.png"
                                alt="Logo"
                                style="max-height: 40px; margin-right: 10px"
                            />
                            <strong>AgroFresh Envios</strong>
                        </a>

                        <div class="navbar-item is-hidden-desktop">
                            <a
                                href="/login"
                                class="button is-small"
                                style="background-color: #65552e; color: white"
                            >
                                <i class="fas fa-sign-out-alt"></i>
                            </a>
                        </div>
                    </div>

                    <div class="navbar-menu">
                        <div class="navbar-end">
                            <div class="navbar-item">
                                <a
                                    href="/login"
                                    class="button"
                                    style="
                                        background-color: #65552e;
                                        color: white;
                                    "
                                >
                                    <span class="icon"
                                        ><i class="fas fa-sign-out-alt"></i
                                    ></span>
                                    <span>Cerrar Sesi√≥n</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <main>
            <section class="hero is-small" style="background-color: #776731">
                <div class="hero-body">
                    <div class="container has-text-centered">
                        <p class="title is-3">Bienvenido, Cliente</p>
                        <p class="subtitle is-5">
                            Rastrea el estado de tus pedidos de verduras en
                            tiempo real.
                        </p>
                    </div>
                </div>
            </section>

            <section class="section">
                <div class="container">
                    <div class="columns is-centered">
                        <div
                            class="column is-two-thirds-tablet is-half-desktop"
                        >
                            <div class="box">
                                <label
                                    class="label is-large has-text-centered mb-4"
                                >
                                    üîç Rastrear Env√≠o
                                </label>

                                <form action="/obtenerEnvio" method="POST">
                                    <div class="field has-addons">
                                        <div
                                            class="control is-expanded has-icons-left"
                                        >
                                            <input
                                                class="input is-medium is-rounded"
                                                type="search"
                                                name="tracking_number"
                                                placeholder="Ingresa tu n√∫mero de gu√≠a (ej: 101)"
                                                required
                                            />
                                            <span class="icon is-small is-left">
                                                <i class="fas fa-barcode"></i>
                                            </span>
                                        </div>
                                        <div class="control">
                                            <button
                                                type="submit"
                                                class="button is-medium is-rounded"
                                                style="
                                                    background-color: #cacc78;
                                                    color: white;
                                                "
                                            >
                                                Buscar
                                            </button>
                                        </div>
                                    </div>
                                    <p class="help">
                                        Ingresa el ID num√©rico que recibiste en
                                        tu confirmaci√≥n.
                                    </p>
                                </form>
                            </div>

                            <!-- Bloque para mostrar resultados -->
                            {{ if .encontrado }}
                            <div class="notification is-success mt-5 shadow">
                                <div class="media">
                                    <div class="media-left">
                                        <span class="icon is-large">
                                            <i
                                                class="fas fa-check-circle fa-2x"
                                            ></i>
                                        </span>
                                    </div>
                                    <div class="media-content">
                                        <p class="title is-4">
                                            Env√≠o #{{ .guia }}
                                        </p>
                                        <p>
                                            <strong>Cliente:</strong> {{
                                            .cliente }}
                                        </p>
                                        <p>
                                            <strong>Productos:</strong> {{
                                            .productos }}
                                        </p>
                                        <p>
                                            <strong>Estado:</strong> {{ .estatus
                                            }}
                                        </p>
                                        <p>
                                            <strong
                                                >√öltima Actualizaci√≥n:</strong
                                            >
                                            {{ .fechaHora }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                            {{ else if .resultado }}
                            <div
                                class="notification mt-5 shadow"
                                style="background-color: {{ .color }}; color: white;"
                            >
                                <div class="media">
                                    <div class="media-left">
                                        <span class="icon is-large">
                                            <i
                                                class="fas fa-info-circle fa-2x"
                                            ></i>
                                        </span>
                                    </div>
                                    <div class="media-content">
                                        <p class="title is-4 has-text-white">
                                            Aviso sobre el env√≠o #{{ .guia }}
                                        </p>
                                        <p class="subtitle is-5 has-text-white">
                                            {{ .resultado }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                            {{ end }}
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </body>
</html>
